"use strict";(globalThis.webpackChunksite=globalThis.webpackChunksite||[]).push([[361],{2937:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Plugin Framework/Settings","title":"Settings","description":"ETS2LA has a built in settings framework that handles race conditions between all the different processes. When accessing ETS2LA settings do NOT use anything outside of the official framework. You can still create custom settings files, but make sure these will only ever be changed by a single process at a time.","source":"@site/docs/03-Plugin Framework/01-Settings.md","sourceDirName":"03-Plugin Framework","slug":"/Plugin Framework/Settings","permalink":"/docs/Plugin Framework/Settings","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Settings"},"sidebar":"mainSidebar","previous":{"title":"Setting up a Development Environment","permalink":"/docs/Getting Started/Setting up a Development Environment"},"next":{"title":"User Interface","permalink":"/docs/Plugin Framework/User Interface"}}');var i=n(4848),r=n(8453);const a={title:"Settings"},o=void 0,l={},c=[{value:"How do I define settings for my plugin?",id:"how-do-i-define-settings-for-my-plugin",level:3},{value:"How do I create a settings menu?",id:"how-do-i-create-a-settings-menu",level:3}];function d(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["ETS2LA has a built in settings framework that handles race conditions between all the different processes. ",(0,i.jsx)(t.strong,{children:"When accessing ETS2LA settings do NOT use anything outside of the official framework"}),". You can still create custom settings files, but make sure these will only ever be changed by a single process at a time."]}),"\n",(0,i.jsx)(t.h3,{id:"how-do-i-define-settings-for-my-plugin",children:"How do I define settings for my plugin?"}),"\n",(0,i.jsxs)(t.p,{children:["We prefer a typed approach to defining settings. This means that you create a class based on ",(0,i.jsx)(t.code,{children:"ETS2LASettings"}),", and define all the settings you want as class variables. Below is a minimal example, please note that variables can be set to ",(0,i.jsx)(t.em,{children:"any type"}),"."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'from ETS2LA.Settings import ETS2LASettings\r\n\r\nclass Settings(ETS2LASettings):\r\n    my_number: float = 3\r\n    unassigned_string: str # returns None until set\r\n    some_list: list = [\r\n        "item1",\r\n        "item2"\r\n    ]\n'})}),"\n",(0,i.jsxs)(t.p,{children:["Now to use these settings all you do is simply create an instance of the ",(0,i.jsx)(t.code,{children:"Settings"})," class you just made. You can then read and write settings as normal class variables."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'settings = Settings()\r\nprint(settings.my_number) # 3\r\nprint(settings.unassigned_string) # None\r\nsettings.unassigned_string = "Hello World!"\r\nprint(settings.unassigned_string) # "Hello World!"\n'})}),"\n",(0,i.jsxs)(t.admonition,{type:"tip",children:[(0,i.jsx)(t.p,{children:"You can use settings from any plugins in any other plugins! Just import the class you want, and create a new instance. ETS2LA will handle the rest."}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:"# First party plugins are accessed with Plugins, third party with CataloguePlugins\r\nfrom Plugins.AR.settings import Settings as ARSettings\r\nar_settings = ARSettings()\r\nar_settings.show_when_not_in_focus = True\n"})})]}),"\n",(0,i.jsx)(t.h3,{id:"how-do-i-create-a-settings-menu",children:"How do I create a settings menu?"}),"\n",(0,i.jsxs)(t.p,{children:["Please take a look at the ",(0,i.jsx)(t.a,{href:"./User%20Interface",children:"User Interface"})," documentation for a full guide on how to create settings menus for your plugin."]})]})}function g(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var s=n(6540);const i={},r=s.createContext(i);function a(e){const t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);